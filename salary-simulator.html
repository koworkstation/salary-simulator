<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日給計算シミュレーター</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .step-card {
            background-color: #f9fafb;
            border-left: 5px solid #3b82f6;
        }
        .result-card {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            color: white;
            transition: all 0.3s ease-in-out;
        }
        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-label:has(input:checked) {
            background-color: #dbeafe;
            border-color: #3b82f6;
        }
        select {
             -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>');
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-200 p-4 md:p-8">

    <div class="max-w-3xl mx-auto bg-white p-6 md:p-10 rounded-2xl shadow-2xl">
        
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">（株）ビーウィッシュ運輸部 給与計算</h1>
            <p class="text-gray-600 mt-2">各ステップであなたの条件を選択すると、日給が自動で計算されます。</p>
        </header>

        <div class="space-y-8">
            <!-- 基本給 -->
            <div class="step-card p-6 rounded-lg">
                <h2 class="text-2xl font-bold text-gray-700">基本日給</h2>
                <br>（時給1,200円 × 8h） + （固定残業2h × 1,500円）</p>
                <p class="text-right text-3xl font-bold text-blue-600 mt-2">12,600円</p>
            </div>

            <!-- 運行手当 -->
            <div class="step-card p-6 rounded-lg">
                <h2 class="text-xl font-bold text-gray-700 mb-4">STEP 1: どの車両に乗ったか (運行手当)</h2>
                <select id="vehicle" class="w-full p-3 border border-gray-300 rounded-lg bg-white text-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="0">軽自動車 (+0円)</option>
                    <option value="1500">普通自動車 / 1t (+1,500円)</option>
                    <option value="3500">2t車 (+3,500円)</option>
                    <option value="5500">4t車 (+5,500円)</option>
                    <option value="7500">大型車両 (+7,500円)</option>
                </select>
            </div>

            <!-- 各種手当 -->
            <div class="step-card p-6 rounded-lg">
                <h2 class="text-xl font-bold text-gray-700 mb-4">STEP 2: 特別な業務はあった？ (各種手当)</h2>
                <div class="space-y-4">
                    <label class="option-label">
                        <input type="checkbox" id="heavy_duty" value="4000" class="h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <span class="ml-4 text-gray-700">サンキョウロジサイディングに関する業務 (+4,000円)</span>
                    </label>
                    
                    <div class="p-4 border border-gray-200 rounded-lg bg-white">
                        <label for="pickup" class="block text-gray-700 mb-2">ピックアップ業務の場所は？</label>
                        <select id="pickup" class="w-full p-3 border border-gray-300 rounded-lg bg-white text-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="0">なし</option>
                            <option value="4500">近郊 (足立, 川口, 草加, 三郷など) (+4,500円)</option>
                            <option value="9000">都内・埼玉 (所要時間6h程度) (+9,000円)</option>
                            <option value="12000">神奈川・千葉 (所要時間8h程度) (+12,000円)</option>
                        </select>
                    </div>

                    <label class="option-label">
                        <input type="checkbox" id="night_loading" value="5000" class="h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <span class="ml-4 text-gray-700">夜積み (+5,000円)</span>
                    </label>
                </div>
            </div>

            <!-- 勤務日 -->
            <div class="step-card p-6 rounded-lg">
                 <h2 class="text-xl font-bold text-gray-700 mb-4">STEP 3: 勤務日は？</h2>
                 <div id="workday" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <label class="option-label text-center">
                        <input type="radio" name="day_type" value="weekday" checked class="sr-only">
                        <span class="w-full">平日</span>
                    </label>
                    <label class="option-label text-center">
                        <input type="radio" name="day_type" value="holiday_half" class="sr-only">
                        <span class="w-full">土日祝 (半日)</span>
                    </label>
                    <label class="option-label text-center">
                        <input type="radio" name="day_type" value="holiday_full" class="sr-only">
                        <span class="w-full">土日祝 (全日)</span>
                    </label>
                 </div>
            </div>

            <!-- 計算結果 -->
            <div id="result-wrapper" class="result-card p-8 rounded-2xl shadow-lg text-center transform hover:scale-105">
                <h2 class="text-2xl font-bold">あなたの本日給 (見込み)</h2>
                <p id="total_salary" class="text-5xl md:text-6xl font-black tracking-tight my-4">12,600円</p>
                <p id="calculation_details" class="text-sm opacity-80 h-4"></p>
            </div>
        </div>
    </div>

    <script>
        // DOM要素を取得
        const vehicleSelect = document.getElementById('vehicle');
        const heavyDutyCheckbox = document.getElementById('heavy_duty');
        const pickupSelect = document.getElementById('pickup');
        const nightLoadingCheckbox = document.getElementById('night_loading');
        const workdayRadios = document.querySelectorAll('input[name="day_type"]');
        const totalSalaryDisplay = document.getElementById('total_salary');
        const calculationDetailsDisplay = document.getElementById('calculation_details');

        // 計算イベントリスナーを設定
        const allInputs = [vehicleSelect, heavyDutyCheckbox, pickupSelect, nightLoadingCheckbox, ...workdayRadios];
        allInputs.forEach(input => {
            input.addEventListener('change', calculateSalary);
        });

        // 給与計算関数
        function calculateSalary() {
            const baseSalary = 12600;
            
            // --- 平日給与の計算 ---
            let weekdaySalary = baseSalary;
            
            // 1. 運行手当
            weekdaySalary += parseInt(vehicleSelect.value);
            
            // 2. 各種手当
            if (heavyDutyCheckbox.checked) {
                weekdaySalary += parseInt(heavyDutyCheckbox.value);
            }
            weekdaySalary += parseInt(pickupSelect.value);
            if (nightLoadingCheckbox.checked) {
                weekdaySalary += parseInt(nightLoadingCheckbox.value);
            }

            // --- 最終日給の計算 ---
            const selectedWorkday = document.querySelector('input[name="day_type"]:checked').value;
            let finalSalary = 0;
            let details = "";

            if (selectedWorkday === 'weekday') {
                finalSalary = weekdaySalary;
                details = "平日勤務の日給です";
            } else if (selectedWorkday === 'holiday_half') {
                finalSalary = 10000;
                details = "土日祝・半日勤務の固定日給です";
            } else if (selectedWorkday === 'holiday_full') {
                finalSalary = Math.floor(weekdaySalary * 1.25);
                details = `平日日給 ${weekdaySalary.toLocaleString()}円 × 1.25`;
            }

            // 表示を更新
            totalSalaryDisplay.textContent = `${finalSalary.toLocaleString()}円`;
            calculationDetailsDisplay.textContent = details;
        }

        // 初期計算を実行
        calculateSalary();
    </script>

</body>
</html>